<div ng-init="GetLog(1)">
    <div class="d-flex justify-content-between">
        <h2><strong>Nhật ký truy cập</strong></h2>
    </div>

    <div class="border mt-2">
        <div class="bg-white header-filter px-3 py-2">
            <div class="d-flex justify-content-between mt-2">
                <div class="d-flex justify-content-center align-items-center">
                    <input type="text" name="categoryandservice" id="productandservice" class="form-control input100 input-text" placeholder="Tìm kiếm hành động" ng-model="Filter.KEYWORD" my-enter="ReloadLog(1)" />
                </div>
                <div class="d-flex justify-content-center align-items-center">
                    <div class="button-circle-hover" ><span class="fa fa-download" ng-click="ExportExcel()"></span></div>
                    <div class="button-circle-hover" data-toggle="dropdown" >
                        <span class="fa fa-cog"></span>
                    </div>
                    <div class="dropdown-menu p-3 dropdown-menu-settings modal-form">
                        <form class="frm_custom_view_column">
                            <p class="mb-0">Cột</p>
                            <label for="cbx_id" class="label-cbx">
                                <input id="cbx_id" type="checkbox" class="invisible" ng-model="cookie.FieldID" ng-click="Check(cookie.FieldID,'FieldID')">
                                <span class="checkbox">
                                    <svg width="20px" height="20px" viewBox="0 0 20 20">
                                        <path d="M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z"></path>
                                        <polyline points="4 11 8 15 16 6"></polyline>
                                    </svg>
                                </span>
                                <span class="cbx-text">ID</span>
                            </label>
                            <label for="cbx_username" class="label-cbx">
                                <input id="cbx_username" type="checkbox" class="invisible" ng-model="cookie.FieldUserName" ng-click="Check(cookie.FieldUserName,'FieldUserName')">
                                <span class="checkbox">
                                    <svg width="20px" height="20px" viewBox="0 0 20 20">
                                        <path d="M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z"></path>
                                        <polyline points="4 11 8 15 16 6"></polyline>
                                    </svg>
                                </span>
                                <span class="cbx-text">Người dùng</span>
                            </label>
                            <label for="cbx_sku_actionname" class="label-cbx">
                                <input id="cbx_sku_actionname" type="checkbox" class="invisible" ng-model="cookie.FieldActionName" ng-click="Check(cookie.FieldActionName,'FieldActionName')">
                                <span class="checkbox">
                                    <svg width="20px" height="20px" viewBox="0 0 20 20">
                                        <path d="M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z"></path>
                                        <polyline points="4 11 8 15 16 6"></polyline>
                                    </svg>
                                </span>
                                <span class="cbx-text">Hành động</span>
                            </label>
                            <label for="cbx_object" class="label-cbx">
                                <input id="cbx_object" type="checkbox" class="invisible" ng-model="cookie.FieldObjectName" ng-click="Check(cookie.FieldObjectName,'FieldObjectName')">
                                <span class="checkbox">
                                    <svg width="20px" height="20px" viewBox="0 0 20 20">
                                        <path d="M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z"></path>
                                        <polyline points="4 11 8 15 16 6"></polyline>
                                    </svg>
                                </span>
                                <span class="cbx-text">Bản ghi thao tác</span>
                            </label>
                            <label for="cbx_description" class="label-cbx">
                                <input id="cbx_description" type="checkbox" class="invisible" ng-model="cookie.FieldDescription" ng-click="Check(cookie.FieldDescription,'FieldDescription')">
                                <span class="checkbox">
                                    <svg width="20px" height="20px" viewBox="0 0 20 20">
                                        <path d="M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z"></path>
                                        <polyline points="4 11 8 15 16 6"></polyline>
                                    </svg>
                                </span>
                                <span class="cbx-text">Nội dung</span>
                            </label>
                            <label for="cbx_logtime" class="label-cbx">
                                <input id="cbx_logtime" type="checkbox" class="invisible" ng-model="cookie.FieldLogTime" ng-click="Check(cookie.FieldLogTime,'FieldLogTime')">
                                <span class="checkbox">
                                    <svg width="20px" height="20px" viewBox="0 0 20 20">
                                        <path d="M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z"></path>
                                        <polyline points="4 11 8 15 16 6"></polyline>
                                    </svg>
                                </span>
                                <span class="cbx-text">Thời gian tạo</span>
                            </label>
                            <div class="report_col_show_more">
                                <label for="cbx_IP" class="label-cbx">
                                    <input id="cbx_IP" type="checkbox" class="invisible" ng-model="cookie.FieldIpAddress" ng-click="Check(cookie.FieldIpAddress,'FieldIpAddress')">
                                    <span class="checkbox">
                                        <svg width="20px" height="20px" viewBox="0 0 20 20">
                                            <path d="M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z"></path>
                                            <polyline points="4 11 8 15 16 6"></polyline>
                                        </svg>
                                    </span>
                                    <span class="cbx-text">Địa chỉ IP</span>
                                </label>
                            </div>

                            <div class="text-right" id="id1" onclick=""><a href="javascript:;" ng-click="ToggleShowMore('.report_col_show_more')" data-toggle="report_col_show_more">Xem thêm <span class="dropdown-toggle"></span></a></div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="btn-filter mt-2 table_overflow_absolute onscrollbar">
            <table class="bg-white table table-bordered  table-sm table-vertical-center table-head-green table-hover ">
                <thead class="text-center">
                    <tr>
                        <th class="text-center">
                            <label for="cbx_title" class="label-cbx">
                                <input id="cbx_title" type="checkbox" class="invisible" ng-click="SelectAll()" ng-model="IsSelectAll" ng-init="IsSelectAll = false">
                                <span class="checkbox">
                                    <svg width="20px" height="20px" viewBox="0 0 20 20">
                                        <path d="M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z"></path>
                                        <polyline points="4 11 8 15 16 6"></polyline>
                                    </svg>
                                </span>
                            </label>
                        </th>
                        <th class="text-center" ng-show="cookie.FieldID" width="5%">ID</th>
                        <th ng-show="cookie.FieldUserName" width="10%">Người dùng</th>
                        <th ng-show="cookie.FieldActionName" width="10%">Hành Động</th>
                        <th ng-show="cookie.FieldObjectName" width="10%">Bản ghi thao tác</th>
                        <th ng-show="cookie.FieldIpAddress" width="10%">Địa chỉ IP</th>
                        <th ng-show="cookie.FieldDescription">Nội dung</th>
                        <th ng-show="cookie.FieldLogTime" width="10%">Thời gian tạo</th>
                    </tr>
                </thead>
                <tbody class="product-table">
                    <tr class="data" ng-hide="ListLog.length > 0">
                        <td colspan="12">Dữ liệu đang trống!</td>
                    </tr>
                    <tr ng-repeat="item in ListLog">
                        <td class="text-center">
                            <label for="cbx_{{$index}}" class="label-cbx">
                                <input id="cbx_{{$index}}" type="checkbox" class="invisible cbx-id" ng-model="item.ISSELECTED" ng-click="SeleteRow(item.ISSELECTED)">
                                <span class="checkbox">
                                    <svg width="20px" height="20px" viewBox="0 0 20 20">
                                        <path d="M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z"></path>
                                        <polyline points="4 11 8 15 16 6"></polyline>
                                    </svg>
                                </span>
                            </label>
                        </td>

                        <td class="text-center" ng-show="cookie.FieldID">
                            <label>{{$index + 1}}</label>
                        </td>
                        <td class="text-center" ng-show="cookie.FieldUserName">
                            <label>{{item.USERNAME}}</label>
                        </td>
                        <td class="text-center" ng-show="cookie.FieldActionName">
                            <label>{{item.ACTIONNAME}}</label>
                        </td>
                        <td class="text-center" ng-show="cookie.FieldObjectName">
                            <label>{{item.OBJECTNAME}}</label>
                        </td>
                        <td class="text-center" ng-show="cookie.FieldIpAddress">
                            <label>{{item.IPADDRESS}}</label>
                        </td>
                        <td class="text-left" ng-show="cookie.FieldDescription">
                            <label>{{item.DESCRIPTION}}</label>
                        </td>
                        <td class="text-center" ng-show="cookie.FieldLogTime">
                            <label>{{item.LOGTIME |dateTimeFormat}}</label>
                        </td>
                    </tr>
                </tbody>
            </table>

        </div>
        <div class="paging-absolute" ng-hide="ListLog.length < 1">
            <table class="table table-sm table-vertical-center table-head-green">
                <tr>
                    <td style="border:none;">
                        <div class="d-flex align-items-center">
                            Hiển thị
                            <select class="form-control form-control-sm" ng-model="cookie.RowNum" ng-change="Check(cookie.RowNum,'RowNum')" convert-to-number style="width:15%;">
                                <option value="5">5</option>
                                <option value="10">10</option>
                                <option value="20">20</option>
                                <option value="30">30</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                            </select>
                            dòng
                        </div>
                    </td>
                    <td class="text-right border-0" colspan="10" ng-model="currentpage">
                        <div class="mt-2 mr-4 pagination-area">
                            <button class="pagination-first" ng-disabled="currentpage == 1" ng-click="GetLog(1)">< Đầu tiên</button>
                            <button class="pagination-previous" ng-disabled="currentpage == 1" ng-click="GetLog(currentpage - 1)">Trước</button>
                            <label class="pagination-current"><strong>{{currentpage}}/{{TotalPages}}</strong></label>
                            <button class="pagination-next" ng-disabled="currentpage == TotalPages" ng-click="GetLog(currentpage + 1)">Sau</button>
                            <button class="pagination-last" ng-disabled="currentpage == TotalPages" ng-click="GetLog(TotalPages)">Cuối cùng ></button>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>

</div>

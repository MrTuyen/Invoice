@*Hóa đơn xóa bỏ*@
<div ng-show="Tab.Delete">
    <div class="bg-white border mt-2 ">
        @*Bô lọc*@
        <div class="header-filter p-2 d-none d-sm-block">
            <div class="d-flex justify-content-between mt-2">
                <div class="btn-group btn-filter">
                    <div class="btn-group ml-1 mr-2">
                        <div class="d-flex align-items-end"><img src="~/Images/64px_corner-down-round.png" /></div>
                        <button type="button" class="btn btn-light btn-sm dropdown-toggle" data-toggle="dropdown">
                            Xử lý hàng loạt
                        </button>
                        <div class="dropdown-menu dropdown-menu-sm" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="javascript:;" has-permission="{{USER_ROLE.NGHIEP_VU_HOA_DON}}" ng-click="RemovedInvoice()"><i class="fa fa-trash-o"></i>&nbsp; Xóa</a>
                            <a class="dropdown-item" href="javascript:;" has-permission="{{USER_ROLE.NGHIEP_VU_HOA_DON}}" ng-click="RemovedAllInvoice()"><i class="fa fa-trash-o"></i>&nbsp; Xóa tất cả</a>
                        </div>
                    </div>
                    <div class="btn-group btn-filter">
                        <button type="button" class="btn btn-light btn-sm dropdown-toggle" data-toggle="dropdown">
                            <span class="fa fa-filter"></span> Bộ lọc
                        </button>
                        <div class="dropdown-menu p-3">
                            <form id="frmInvoiceFilterDelete">
                                <div class="row">
                                    <div class="col-6">
                                        <p class="mb-1 mt-3">Mẫu số</p>
                                        <select class="form-control form-control-sm ddl-novaon" ng-model="Filter.FORMCODE">
                                            <option value="" selected>Tất cả</option>
                                            <option ng-repeat="item in ListFormCode" value="{{item.FORMCODE}}">{{item.FORMCODE}}</option>
                                        </select>


                                        <p class="mb-1 mt-3">Khách hàng</p>
                                        <input class="form-control form-control-sm" ng-model="Filter.CUSTOMER" placeholder="Tên doanh nghiệp..." />

                                        <p class="mb-1 mt-3">Thời gian</p>
                                        <select class="form-control form-control-sm ddl-novaon" ng-model="Filter.TIME">
                                            <option value="{{null}}" disabled selected>Chọn thời gian</option>
                                            <option ng-repeat="t in Timepickers.Options" value="{{t.value}}">{{t.text}}</option>
                                        </select>

                                    </div>

                                    <div class="col-6">
                                        <p class="mb-1 mt-3">Ký hiệu</p>
                                        <select class="form-control form-control-sm ddl-novaon" ng-model="Filter.SYMBOLCODE">
                                            <option value="" disabled selected>Chọn ký hiệu</option>
                                            <option ng-repeat="item in ListSymbolCode" value="{{item.SYMBOLCODE}}">{{item.SYMBOLCODE}}</option>
                                        </select>

                                        <p class="mb-1 mt-3">Số</p>
                                        <input class="form-control form-control-sm" ng-model="Filter.NUMBER" placeholder="Số hóa đơn... (ví dụ: 0000009)" />
                                    </div>
                                </div>
                                <div class="row" ng-show="(Filter.TIME == 5)">
                                    <div class="col-6">
                                        <p class="mb-1 mt-3">Từ ngày</p>
                                        <input type="date" ng-model="FROMTIME" data-date-format="DD MMMM YYYY" id="pk_fromtimeDelete" class="w-100 form-control form-control-sm">
                                    </div>
                                    <div class="col-6">
                                        <p class="mb-1 mt-3">Đến ngày</p>
                                        <input type="date" ng-model="TOTIME" data-date-format="DD MMMM YYYY" id="pk_totimeDelete" class="w-100 form-control form-control-sm">
                                    </div>
                                </div>
                                <div class="d-flex justify-content-between align-items-center mt-4">
                                    <div class="keyword-filter">

                                    </div>
                                    <button class="btn btn-success btn-sm pl-5 pr-5" ng-click="GetInvoiceDelete(1)">Lọc</button>
                                </div>
                            </form>
                        </div>
                    </div>
                    @* Gán thẻ đã lọc *@
                    <span class="has-tag" ng-repeat="f in FilterApply" ng-click="RemoveFilter(f)">{{f.value}} <img src="~/Images/close.png"></span>
                </div>
            </div>
        </div>

        @*Table*@
        @*Desktop*@
        <div class="d-none d-sm-block">
            <table class="table table-bordered table-sm table-vertical-center table-head-green table-hover">
                <thead>
                    <tr>
                        <th style="width: 40px;" class="">
                            <label for="cbx_title_delete" class="label-cbx">
                                <input id="cbx_title_delete" type="checkbox" class="invisible" ng-click="SelectAllInvoice(ListInvoice, IsSelectAll)" ng-model="IsSelectAll" ng-init="IsSelectAll = false">
                                <span class="checkbox">
                                    <svg width="20px" height="20px" viewBox="0 0 20 20">
                                        <path d="M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z"></path>
                                        <polyline points="4 11 8 15 16 6"></polyline>
                                    </svg>
                                </span>
                            </label>
                        </th>
                        <th class="text-center" style="width:6%;">STT</th>
                        <th style="width:10%;">Ngày tạo</th>
                        <th style="width:10%;">Mẫu số <br />Ký hiệu</th>
                        <th class="text-center" style="width:10%;">Loại HĐ</th>
                        <th class="text-center" style="width:10%;">Ngày xóa bỏ</th>
                        <th class="text-left" style="width:10%;"> Mã khách hàng</th>
                        <th class="text-left" style="width:20%;">Khách hàng</th>
                        <th class="text-center" style="width:10%;">Tổng tiền</th>
                        <th></th>
                    </tr>
                </thead>

                <tbody>
                    <tr class="data" ng-hide="ListInvoice.length >= 1">
                    <tr class="data" ng-hide="ListInvoice.length >= 1">
                        <td colspan="12">Dữ liệu đang trống!</td>
                    </tr>
                    <tr ng-repeat="item in ListInvoice">
                        <td>
                            <label for="cbx_{{$index}}_delete" class="label-cbx">
                                <input id="cbx_{{$index}}_delete" type="checkbox" class="invisible" ng-model="item.ISSELECTED" ng-click="SeleteRow(ListInvoice, item.ISSELECTED, IsSelectAll, item.ID)">
                                <span class="checkbox" ng-model="item.ISSELECTED">
                                    <svg width="20px" height="20px" viewBox="0 0 20 20">
                                        <path d="M3,1 L17,1 L17,1 C18.1045695,1 19,1.8954305 19,3 L19,17 L19,17 C19,18.1045695 18.1045695,19 17,19 L3,19 L3,19 C1.8954305,19 1,18.1045695 1,17 L1,3 L1,3 C1,1.8954305 1.8954305,1 3,1 Z"></path>
                                        <polyline points="4 11 8 15 16 6"></polyline>
                                    </svg>
                                </span>
                            </label>
                        </td>
                        <td class="text-center">{{$index + 1}}</td>
                        <td>{{item.INITTIME | dateTimeFormat}}</td>
                        <td>{{item.FORMCODE}} <br /> {{item.SYMBOLCODE}}</td>
                        <td class="text-left" ng-if="item.INVOICETYPE == 1">HĐ gốc</td>
                        <td class="text-left" ng-if="item.INVOICETYPE == 2">HĐ bán lẻ</td>
                        <td class="text-left" ng-if="item.INVOICETYPE == 3">HĐ xóa bỏ</td>
                        <td class="text-left" ng-if="item.INVOICETYPE == 4">HĐ chuyển đổi</td>
                        <td class="text-left" ng-if="item.INVOICETYPE == 5">HĐ điều chỉnh</td>
                        <td class="text-left" ng-if="item.INVOICETYPE == 6">HĐ thay thế</td>
                        <td>{{item.MODIFIEDDATE | dateTimeFormat}}</td>
                        <td class="text-left">{{item.CUSTOMERCODE}}</td>
                        <td class="text-left">{{item.CUSNAME}}</td>
                        <td class="text-left">{{item.TOTALPAYMENT | numberFormat: (item.CURRENCY != 'VND' ? 2 : 0)}}</td>
                        <td class="text-center">
                            <button class="btn btn-link color_btn" has-permission="{{USER_ROLE.THEM_MOI_HOA_DON}}" ng-click="RecoverInvoice(item.ID)" title="Phục hồi"><span class="fa fa-history"></span></button>
                            <button class="btn btn-link color_btn" has-permission="{{USER_ROLE.NGHIEP_VU_HOA_DON}}" ng-click="RemovedInvoice(item.ID)" title="Xóa vĩnh viễn"><span class="fa fa-trash-o"></span></button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
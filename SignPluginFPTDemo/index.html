<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="Mobile-ID R&D" />
    <title>Demo SignPlugin</title>
    <script type="text/javascript" src="function.js"></script>
    <script type="text/javascript" src="JSON/json2.js"></script>
    <script type="text/javascript" src="XML/XMLWriter.js"></script>
    <script type="text/javascript" src="XML/Global.js"></script>
</head>

<body onload="initPlugin();">
    <div id="content">
        <p id="DemoSignPlugin_title" align="center">Mobile-ID SignPlugin DEMO</p>
        <br />
        <div id="getCertificate" align="center">
            <fieldset style="width: 800px;">
                <legend>Get info certificate</legend>
                <table>
                    <tr>
                        <td>CN:</td>
                        <td><input id="cert_CN" style="width: 600px;" type="text" readonly=readonly /></td>
                    </tr>
                    <tr>
                        <td>Issuer:</td>
                        <td><input id="cert_Issuer" style="width: 600px;" type="text" readonly=readonly /></td>
                    </tr>
                    <tr>
                        <td>DN:</td>
                        <td><textarea id="cert_DN" style="width: 600px;" rows="4" cols="83" readonly=readonly></textarea></td>
                    </tr>
                    <tr>
                        <td>Valid From:</td>
                        <td><input id="cert_ValidFrom" style="width: 600px;" type="text" readonly=readonly /></td>
                    </tr>
                    <tr>
                        <td>Valid To:</td>
                        <td><input id="cert_ValidTo" style="width: 600px;" type="text" readonly=readonly /></td>
                    </tr>
                    <tr>
                        <td>Serial Number:</td>
                        <td><input id="cert_SNB" style="width: 600px;" type="text" readonly=readonly /></td>
                    </tr>
                    <tr>
                        <td>Thumprint:</td>
                        <td><input id="cert_Thumprint" style="width: 600px;" type="text" readonly=readonly /></td>
                    </tr>
                    <tr>
                        <td>Raw Data</td>
                        <td><textarea id="cert_rawData" style="width: 600px;" rows="8" cols="83" readonly=readonly></textarea></td>
                    </tr>
                </table>
                <div id="threebutton">
                    <input type="button" value="Get Certificate" onclick="getCertifcate()" />
                </div>
            </fieldset>
            <fieldset style="width: 800px;">
                <legend>Sign & Verify</legend>
                <table>
                    <tr>
                        <td>Data:</td>
                        <td><input id="sign_Data" style="width: 600px;" type="text" /></td>
                    </tr>
                    <tr>
                        <td>Signature:</td>
                        <td><textarea id="sign_Signature" style="width: 600px;" rows="6" cols="83"></textarea></td>
                    </tr>
                </table>
                <div id="threebutton">
                    <input type="button" value="sign" onclick="sign()" />
                    <input type="button" value="verify" onclick="verify()" />
                </div>
            </fieldset>
            <fieldset style="width: 800px; display:none;" id="verify_result">
                <legend>Result verify signature:</legend>
                <td>Data To Be Sign:</td>
                <td><input id="verify_DTBS" style="width: 600px;" type="text" /></td>
                <legend>Signer Info</legend>
                <table>
                    <tr>
                        <td>CN:</td>
                        <td><input id="SignerInfo_CN" style="width: 600px;" type="text" readonly=readonly /></td>
                    </tr>
                    <tr>
                        <td>Issuer:</td>
                        <td><input id="SignerInfo_Issuer" style="width: 600px;" type="text" readonly=readonly /></td>
                    </tr>
                    <tr>
                        <td>DN:</td>
                        <td><textarea id="SignerInfo_DN" style="width: 600px;" rows="4" cols="83" readonly=readonly></textarea></td>
                    </tr>
                    <tr>
                        <td>Valid From:</td>
                        <td><input id="SignerInfo_ValidFrom" style="width: 600px;" type="text" readonly=readonly /></td>
                    </tr>
                    <tr>
                        <td>Valid To:</td>
                        <td><input id="SignerInfo_ValidTo" style="width: 600px;" type="text" readonly=readonly /></td>
                    </tr>
                    <tr>
                        <td>Serial Number:</td>
                        <td><input id="SignerInfo_SNB" style="width: 600px;" type="text" readonly=readonly /></td>
                    </tr>
                    <tr>
                        <td>Thumprint:</td>
                        <td><input id="SignerInfo_Thumprint" style="width: 600px;" type="text" readonly=readonly /></td>
                    </tr>
                    <tr>
                        <td>Raw Data</td>
                        <td><textarea id="SignerInfo_rawData" style="width: 600px;" rows="8" cols="83" readonly=readonly></textarea></td>
                    </tr>
                </table>
            </fieldset>
            <fieldset style="width: 800px;">
                <legend>Sign files</legend>
                <table>
                    <tr>
                        <td>Path file:</td>
                        <td><input id="file_input" style="width: 600px;" type="text" readonly/></td>
                        <td><input type="button" value="Browse" onClick="browseFile()" /></td>
                    </tr>
                    <tr>
                        <td>Signed file:</td>
                        <td><input id="file_signed" style="width: 600px;" type="text" readonly/></td>
                    </tr>
                </table>
                <div id="threebutton">
                    <input type="button" value="sign" onclick="signFile()" />
                </div>
            </fieldset>
            <fieldset style="width: 800px;">
                <legend>Sign XML Data</legend>
                <table>
                    <tr>
                        <td>XML Data:</td>
                        <td><textarea id="xml_Data" style="width: 600px;" rows="12" cols="83"></textarea></td>
                    </tr>
                    <tr>
                        <td>Signature:</td>
                        <td><textarea id="xml_Signature" style="width: 600px;" rows="18" cols="83" readonly=readonly></textarea></td>
                    </tr>
                </table>
                <div id="threebutton">
                    <input type="button" value="signXML" onclick="signXMLData()" />
                </div>
            </fieldset>
            <fieldset style="width: 800px;">
                <legend>DCSigner</legend>
                <table>
                    <tr>
                        <td>Data:</td>
                        <td><input id="DCSigner_Data" style="width: 600px;" type="text" value="d2efcbba102ed3339947e85f4141eb08926e40e9" /></td>
                    </tr>
                    <tr>
                        <td>Signature:</td>
                        <td><textarea id="DCSigner_result" style="width: 600px;" rows="18" cols="83"></textarea></td>
                    </tr>
                </table>
                <div id="threebutton">
                    <input type="button" value="DCSigner" onclick="DCSigner()" />
                </div>
            </fieldset>
        </div>
    </div>
</body>

</html>